---
title: "[API-d24] - 實戰開發 - 刪除 TODO task API with mongoose"
description: "鐵人賽 RESTful API Day24：實作刪除 TODO task 的 DELETE API，使用 mongoose 的 findOneAndRemove 方法刪除指定 id 的 task。"
date: 2014-10-24
slug: api-d24
tags: ['鐵人賽', 'restful', 'api', 'nodejs', 'mongodb']
---


[Github 參考](https://github.com/kerkerj/ithome-RestfulAPIDemo/tree/Day24)

還記得昨天說要偷懶一下嗎 XD

因為刪除真的很簡單!

我們前面走過了新增、修改、讀取了

刪除？哪有什麼困難的呢! XD

直接看 code 吧!

routes/users.js:

```javascript
// Delete a todo task
router.delete('/:user_id/todos/:todo_id', function(req, res) {
    var user_id = req.params.user_id;
    var todo_id = req.params.todo_id;

    TODO.remove(
        { _id: todo_id, user_id: user_id },
        function (err) {
            if (err) {
                res.status(400).json(
                    { error: "delete data error"}
                );
            } else {
                res.status(201).json(
                    { success: "true" }
                );
            }
        }
    );
});
```

非常的簡單!

先抓到 user_id, todo_id 後

使用 .remove 的方法，下 WHERE 條件，並在 callback 作處理

就完成了!

試試看吧! 

![image](/images/2014-10/api-d24-01.png)

是不是非常的簡單呢！

我們已經完成 CRUD API 操作了！

接下來幾天會稍作一些細節上的處理! 
