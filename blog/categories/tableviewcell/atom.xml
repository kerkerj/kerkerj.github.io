<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: Tableviewcell | kerkerj]]></title>
  <link href="http://kerkerj.github.io/blog/categories/tableviewcell/atom.xml" rel="self"/>
  <link href="http://kerkerj.github.io/"/>
  <updated>2014-10-30T01:45:24+08:00</updated>
  <id>http://kerkerj.github.io/</id>
  <author>
    <name><![CDATA[kerkerj]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[[Swift-d18] - Basic - Customize TableViewCell]]></title>
    <link href="http://kerkerj.github.io/blog/2014/10/18/swift-d18/"/>
    <updated>2014-10-18T18:28:23+08:00</updated>
    <id>http://kerkerj.github.io/blog/2014/10/18/swift-d18</id>
    <content type="html"><![CDATA[<p>今天的主題延續昨天的 Navigation + TableView</p>

<p>我們要來客製化 TableViewCell</p>

<p>通常 TableView 可以被拿來做很多事情，不僅只是像是 ListView 而已</p>

<p>而 TableViewCell 可以做更深度的切版，排列元素</p>

<p>因此自定 TableViewCell 是一件算是還蠻重要的事情</p>

<p>下面的 Code 是延續昨天的專案</p>

<p>我先把已更改過的程式碼貼上來:</p>

<pre><code class="swift">import UIKit

class ViewController: UIViewController, UITableViewDataSource, UITableViewDelegate {

    @IBOutlet var tableView: UITableView!

    var arr = ["A", "B", "C"]

    override func viewDidLoad() {
        super.viewDidLoad()
        // Do any additional setup after loading the view, typically from a nib.
    }

    override func didReceiveMemoryWarning() {
        super.didReceiveMemoryWarning()
        // Dispose of any resources that can be recreated.
    }

    func tableView(tableView: UITableView, numberOfRowsInSection section: Int) -&gt; Int {
        return arr.count;
    }

    func tableView(tableView: UITableView, cellForRowAtIndexPath indexPath: NSIndexPath) -&gt; UITableViewCell {
        var cell: CustomTableViewCell? = tableView.dequeueReusableCellWithIdentifier("cell") as CustomTableViewCell?

        if cell == nil {
            var objects = NSBundle.mainBundle().loadNibNamed("CustomTableViewCell", owner: self, options: nil)
            cell = objects[0] as? CustomTableViewCell
        }

        cell!.textLabel?.text = arr[indexPath.row]

        return cell!
    }

    func tableView(tableView: UITableView, didSelectRowAtIndexPath indexPath: NSIndexPath) {
        var detailViewController = DetailViewController()
        detailViewController.title = arr[indexPath.row]
        self.navigationController?.pushViewController(detailViewController, animated: true)
    }

    func tableView(tableView: UITableView, heightForRowAtIndexPath indexPath: NSIndexPath) -&gt; CGFloat {
        return 165.0
    }
}
</code></pre>

<p>今天要新增一個檔案, 我們就稱之為 CustomTableViewCell</p>

<p><img src="https://dl.dropboxusercontent.com/u/12400343/images/%E8%9E%A2%E5%B9%95%E5%BF%AB%E7%85%A7%202014-10-18%2011.36.49.png" alt="image" /></p>

<p><img src="https://dl.dropboxusercontent.com/u/12400343/images/%E8%9E%A2%E5%B9%95%E5%BF%AB%E7%85%A7%202014-10-18%2011.37.37.png" alt="image" /></p>

<p>就會出現一份 .swift 檔案以及 .xib 檔案了</p>

<p><img src="https://dl.dropboxusercontent.com/u/12400343/images/%E8%9E%A2%E5%B9%95%E5%BF%AB%E7%85%A7%202014-10-18%2011.38.06.png" alt="image" /></p>

<p>接下來我們簡單編輯 .xib 檔案，將背景顏色換成其他顏色，以及將它的長度拉高</p>

<p><img src="https://dl.dropboxusercontent.com/u/12400343/images/%E8%9E%A2%E5%B9%95%E5%BF%AB%E7%85%A7%202014-10-18%2011.39.49.png" alt="image" /></p>

<p>這樣其實就很簡單地完成了一個小客製化的 TableViewCell 了</p>

<p>那我們要怎麼讓原本的 TableView 吃到這個 TableViewCell 呢?</p>

<p>看以下的 function:</p>

<pre><code>func tableView(tableView: UITableView, cellForRowAtIndexPath indexPath: NSIndexPath) -&gt; UITableViewCell {
    var cell: CustomTableViewCell? = tableView.dequeueReusableCellWithIdentifier("cell") as CustomTableViewCell?

    if cell == nil {
        var objects = NSBundle.mainBundle().loadNibNamed("CustomTableViewCell", owner: self, options: nil)
        cell = objects[0] as? CustomTableViewCell
    }

    cell!.textLabel?.text = arr[indexPath.row]

    return cell!
}
</code></pre>

<p>我們將 cell 的類別更改成了 CustomTableViewCell</p>

<p>直接使用剛剛產生的 .swift 類別來產生新的 TableViewCell</p>

<p>並且如果 cell == nil ，則會將 Nib 載入</p>

<p>最後設定該 textLabel ，返回 cell</p>

<p>若使用最一開始的程式碼 apply changes</p>

<p>執行！</p>

<p>應該就可以看到成果了!</p>

<p><img src="https://dl.dropboxusercontent.com/u/12400343/images/%E8%9E%A2%E5%B9%95%E5%BF%AB%E7%85%A7%202014-10-18%2012.01.35.png" alt="image" /></p>

<p>p.s. 這篇可能實作上會有 bug (我寫的), 就先跳過吧 XD</p>
]]></content>
  </entry>
  
</feed>
