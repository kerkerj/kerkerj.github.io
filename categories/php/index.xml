<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>kerkerj</title>
    <link>http://blog.kerkerj.in/categories/php/index.xml</link>
    <description>Recent content on kerkerj</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <copyright>This work is licensed under a Creative Commons Attribution-ShareAlike 4.0 International License.</copyright>
    <atom:link href="http://blog.kerkerj.in/categories/php/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>[PHP] json_decode error by wrong json string with quotes </title>
      <link>http://blog.kerkerj.in/blog/php-json_decode-error-by-wrong-json-string-with-quotes/</link>
      <pubDate>Tue, 28 Jan 2014 00:00:00 +0000</pubDate>
      
      <guid>http://blog.kerkerj.in/blog/php-json_decode-error-by-wrong-json-string-with-quotes/</guid>
      <description>&lt;p&gt;Normal json string:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;{&amp;quot;Hey&amp;quot;:&amp;quot;There&amp;quot;}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Error json string got from $_POST variable:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;{\&amp;quot;Hey\&amp;quot;:\&amp;quot;There\&amp;quot;}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;This may causes by &lt;code&gt;magic_quotes&lt;/code&gt; in &lt;code&gt;php.ini&lt;/code&gt;
Magic is never good in development.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>[PHP] checkbox check/uncheck all</title>
      <link>http://blog.kerkerj.in/blog/php-checkbox-check/uncheck-all/</link>
      <pubDate>Tue, 12 Jun 2012 00:00:00 +0000</pubDate>
      
      <guid>http://blog.kerkerj.in/blog/php-checkbox-check/uncheck-all/</guid>
      <description>&lt;p&gt;今天在做 checkbox 時, 想做全選/取消全選&lt;/p&gt;

&lt;p&gt;多使用一個 checkbox, 若勾選則是全選, 再點一次則全不選&lt;/p&gt;

&lt;p&gt;於是就產生了這段 code&amp;hellip;&lt;/p&gt;

&lt;iframe style=&#34;width: 100%; height: 300px&#34; src=&#34;http://jsfiddle.net/jerry54010/tmJXb/4/embedded/&#34; allowfullscreen=&#34;allowfullscreen&#34; frameborder=&#34;0&#34;&gt;&lt;/iframe&gt;
</description>
    </item>
    
    <item>
      <title>[Codeigniter] Disallowed Key Characters</title>
      <link>http://blog.kerkerj.in/blog/codeigniter-disallowed-key-characters/</link>
      <pubDate>Tue, 31 Jan 2012 00:00:00 +0000</pubDate>
      
      <guid>http://blog.kerkerj.in/blog/codeigniter-disallowed-key-characters/</guid>
      <description>&lt;p&gt;Codeigniter 顯示 Disallowed Key Characters&lt;/p&gt;

&lt;p&gt;我的情況是：&lt;/p&gt;

&lt;p&gt;表單(form)名稱型態不符合格式。&lt;/p&gt;

&lt;p&gt;不得使用中文。&lt;/p&gt;

&lt;p&gt;&lt;code&gt;＜input name=&amp;quot;姓名&amp;quot; type=&amp;quot;checkbox&amp;quot; value=&amp;quot;1&amp;quot; /＞&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;改掉就好了&lt;/p&gt;

&lt;p&gt;ref: &lt;a href=&#34;http://clonn.blogspot.com/2010/12/codeigniter-disallowed-key-characters.html&#34;&gt;Codeigniter 顯示 Disallowed Key Characters&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>[PHP] 上傳檔案的限制</title>
      <link>http://blog.kerkerj.in/blog/php-%E4%B8%8A%E5%82%B3%E6%AA%94%E6%A1%88%E7%9A%84%E9%99%90%E5%88%B6/</link>
      <pubDate>Tue, 31 Jan 2012 00:00:00 +0000</pubDate>
      
      <guid>http://blog.kerkerj.in/blog/php-%E4%B8%8A%E5%82%B3%E6%AA%94%E6%A1%88%E7%9A%84%E9%99%90%E5%88%B6/</guid>
      <description>&lt;p&gt;php.ini&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;&lt;p&gt;max_execution_time - Script執行時間上限(單位：秒)&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;max_input_time - Script處理資料時間上限(單位：秒)&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;memory_limit - 系統記憶體 (要比4,5大&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;post_max_size - 表單的POST發送量&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;upload_max_filesize - 單次上傳檔案容量&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;default_socket_timeout - Socket無回應斷線時間(單位：秒)&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;mysql.connect_timeout - 無回應斷線時間(單位：秒；-1代表不斷線一直等)&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
</description>
    </item>
    
    <item>
      <title>[PHP] 取得目前時間</title>
      <link>http://blog.kerkerj.in/blog/php-%E5%8F%96%E5%BE%97%E7%9B%AE%E5%89%8D%E6%99%82%E9%96%93/</link>
      <pubDate>Tue, 31 Jan 2012 00:00:00 +0000</pubDate>
      
      <guid>http://blog.kerkerj.in/blog/php-%E5%8F%96%E5%BE%97%E7%9B%AE%E5%89%8D%E6%99%82%E9%96%93/</guid>
      <description>&lt;p&gt;很簡單，也很常忘，所以記下來 Orz&lt;/p&gt;

&lt;p&gt;&lt;code&gt;$now =date(&amp;quot;Y-m-d H:i:s&amp;quot;,time());&lt;/code&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>[Codeigniter] remove index.php &amp; 圖片無法讀取問題</title>
      <link>http://blog.kerkerj.in/blog/codeigniter-remove-index.php--%E5%9C%96%E7%89%87%E7%84%A1%E6%B3%95%E8%AE%80%E5%8F%96%E5%95%8F%E9%A1%8C/</link>
      <pubDate>Tue, 20 Dec 2011 00:00:00 +0000</pubDate>
      
      <guid>http://blog.kerkerj.in/blog/codeigniter-remove-index.php--%E5%9C%96%E7%89%87%E7%84%A1%E6%B3%95%E8%AE%80%E5%8F%96%E5%95%8F%E9%A1%8C/</guid>
      <description>&lt;p&gt;首先，是先簡單說明使用 Codeigniter framework 時移除 URL 中的 index.php&lt;br /&gt;
在 Codeigniter 的根目錄新增一 .htaccess 檔案&lt;br /&gt;
並放入以下內容&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;RewriteEngine on  
RewriteCond $1 !^(index\.php|js|robots\.txt|css)  
RewriteRule ^(.*)$ index.php/$1 [L]  
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;另外還要修改 Codeigniter 的 config.php 設定&lt;/p&gt;

&lt;p&gt;&lt;code&gt;$config[&#39;index_page&#39;] = &#39;&#39;&amp;quot;;&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;不過上面的 rewrite rule 有些問題，&lt;br /&gt;
情境是這樣的：&lt;br /&gt;
我在 Codeigniter 根目錄新增一資料夾為 uploads ，&lt;br /&gt;
放置上傳的圖片與影片，&lt;br /&gt;
但是因為 rewrite rule routing 的關係沒辦法讀取到圖片，&lt;br /&gt;
因此我將 .htaccess 檔修改如下：&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;RewriteEngine on  
RewriteCond $1 !^(index\.php|images|css|js|robots\.txt|favicon\.ico)  
RewriteCond %{REQUEST_FILENAME} !-f  
RewriteCond %{REQUEST_FILENAME} !-d  
RewriteRule ^(.*)$ ./index.php?/$1 [L,QSA]  
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;主要是在三四行的 &lt;code&gt;%{REQUEST_FILENAME}&lt;/code&gt;&lt;br /&gt;
這樣修改完就解決問題了!&lt;/p&gt;

&lt;p&gt;ref: &lt;a href=&#34;http://milk4candy.wordpress.com/2010/12/31/codeigniter%E5%A6%82%E4%BD%95%E5%8E%BB%E6%8E%89-url-%E4%B8%AD%E7%9A%84-index-php/&#34;&gt;CodeIgniter 如何去掉 URL 中的 index.php&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>[PHP] 簡單的資料庫連結</title>
      <link>http://blog.kerkerj.in/blog/php-%E7%B0%A1%E5%96%AE%E7%9A%84%E8%B3%87%E6%96%99%E5%BA%AB%E9%80%A3%E7%B5%90/</link>
      <pubDate>Wed, 26 Jan 2011 00:00:00 +0000</pubDate>
      
      <guid>http://blog.kerkerj.in/blog/php-%E7%B0%A1%E5%96%AE%E7%9A%84%E8%B3%87%E6%96%99%E5%BA%AB%E9%80%A3%E7%B5%90/</guid>
      <description>&lt;p&gt;我是PHP新手，超級嫩，所以就寫寫簡單的東西，今天來寫關於資料庫的連結。&lt;br /&gt;
環境同之前寫的，就是 FreeBSD、MySQL、phpMyadmin 啦~&lt;/p&gt;

&lt;p&gt;我將他分成兩個檔案來寫：&lt;br /&gt;
一個是負責連結資料庫：&lt;code&gt;connectDB.inc.php&lt;/code&gt;&lt;br /&gt;
另一個則是測試的 php ：&lt;code&gt;test.php&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;在 &lt;code&gt;connectDB.inc.php&lt;/code&gt; 中設定好 SQL 主機的 IP、使用者名稱密碼等等資料，&lt;br /&gt;
然後由 &lt;code&gt;test.php&lt;/code&gt; 來呈現資料，直接看 code 最快：&lt;/p&gt;

&lt;p&gt;connectDB.inc.php&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-php&#34;&gt;&amp;lt;?php 
    $cfgDB_HOST = &amp;quot;localhost&amp;quot;;      //主機名稱或ip位址
  $cfgDB_PORT = &amp;quot;80&amp;quot;;                       //主機開放連線的port
    $cfgDB_USERNAME = &amp;quot;account&amp;quot;;    //登入主機帳號
    $cfgDB_PASSWORD = &amp;quot;password&amp;quot;;   //登入主機密碼
    $cfgDB_NAME = &amp;quot;db_name&amp;quot;;            //資料庫名稱
  
  //建立資料庫連線
  $link = mysql_connect($cfgDB_HOST . &amp;quot;:&amp;quot; . $cfgDB_PORT, $cfgDB_USERNAME, $cfgDB_PASSWORD) or die(&amp;quot;Could not connect MySQL&amp;quot;);
  //選擇資料庫
  mysql_select_db($cfgDB_NAME, $link) or die(&amp;quot;Could not select database&amp;quot;);
  //讓中文正常顯示
  mysql_query(&amp;quot;SET NAMES &#39;utf8&#39;&amp;quot;);
  
?&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;test.php&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-php&#34;&gt;&amp;lt;?php 
    include (&amp;quot;connectDB.inc.php&amp;quot;);
    try{
        $sql=&amp;quot;SELECT * from test&amp;quot;;  //給予SQL指令
      $result=mysql_query($sql) or die(&amp;quot;invalid query&amp;quot;);//傳給MySQL指令
      //將所有資料顯示出來
      while($record=mysql_fetch_array($result)){
        echo &amp;quot;id: $record[0]&amp;lt;br&amp;gt;&amp;quot;;                      //第一種讀取資料庫欄位的方法，使用欄位序號
        echo &amp;quot;name: &amp;quot;.$record[&amp;quot;test_string&amp;quot;].&amp;quot;&amp;lt;br&amp;gt;&amp;quot;;    //第二種讀取資料庫欄位方法，使用欄位名稱
        }
      mysql_close($link);
    } catch(Exception $e){
        echo $e;
    }
?&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;若資料庫有資料就可以正確顯示溜&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>